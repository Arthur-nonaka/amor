<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="images/coracao.png" />
  <title>Cartinha</title>
</head>

<body>
  <div class="landscape">
    <div class="flower-container">
      <img class="flower" src="images/cute-daisy-SVG/flor_amarela.png" alt="Flower 1">
      <img class="flower" src="images/cute-daisy-SVG/flor_amarela.png" alt="Flower 5">
      <img class="flower" src="images/cute-daisy-SVG/flor_amarela.png" alt="Flower 5">
      <img class="flower" src="images/cute-daisy-SVG/flor_rosa.png" alt="Flower 2">
      <img class="flower" src="images/cute-daisy-SVG/flor_rosa.png" alt="Flower 2">
      <img class="flower" src="images/cute-daisy-SVG/flor_rosa.png" alt="Flower 4">
      <img class="flower" src="images/cute-daisy-SVG/flor_roxa.png" alt="Flower 3">
      <img class="flower" src="images/cute-daisy-SVG/flor_roxa.png" alt="Flower 6">
    </div>
  </div>
  <div class="main-container">
    <div class="paper-background" id="paperBackground">
      <div class="letter-content" id="letterContent">
        <div class="introducao">
          <p>Para o amor da minha vida,</p>
        </div>
        <div class="texto">
          <p>Dia 18/09/25</p>
          <p>

            Oie amore, Hj a gente faz 3 ANOS de namoro, muita coisa, ao mesmo tempo que n n√©, 3 anos parecem pouco se
            for ver o quanto a gente vai viver, a gente passou por muita coisa, muita mesmo, acho que nesses √∫ltimos
            anos foram oq eu mais mudei, n posso falar sobre vc, mas acredito que ss, so apar√™ncia que continua igual
            kkkkkk. N√£o tem como falar como foi esse √∫ltimo ano se n falar que esse ano foi o que a gente mais ficou
            longe, n lembro quantas vezes a gente se viu, mas foi tipo, 4?, 3 vezes que vc vejo e 1 que eu fui ai, eu
            acho, mas pode ser que seja algo bom tmb, teve v√°rios problemas, odeio ficar longe, nss, como √© triste , mas
            definitivamente quando a gente ta perto fica mais importante, pq n √© como se a gente conseguisse se ver
            sempre, quando vc ta aqui, a gente sempre tenta dar um jeito de ser ver nem que seja so um pouco todos os
            dias dkskskakak, to bem ansioso pra acabar suas aulas logo e vc vir ;-;, vem logo amor, quero te dar uns
            beij√£o.
          </p>
          <p>
            Eu te amo demais amore, muito muito muito ‚ù§Ô∏è, quero demais come√ßar a morar junto, decidir as cor da parede,
            ir comprar m√≥vel, comprar coisa aleatoria pra colocar nas estante, tipo aquela cafeteira sapinho. Imagino
            tipo, nos 2 tendo um dia cansativo, e de noite vamos estar junto, sem nenhuma preocupa√ß√£o a mais, so ficar
            junto, comer alguma coisa, jogar um jogo aleatorio ate vc ficar brava ou comigo, ou com o jogo, ir dormir,
            fazer sapecagens e ser bem feliz. N√£o duvido nem um pouco que vamos brigar, eu vou te chatear as vezes,
            nenhuma vez de proposito, mas eu sei que vou, e quando acontecer, espero que vc possa me perdoar, vou fazer
            o mesmo com vc quando vc me magoar tmb, mas al√©m de problemas de adultoüòë, acredito que no futuro vai dar
            tudo certo, eu sei que vai, eu te amo muito.
          </p>
          <p>
            E tmb quero te dar logo o presente, vou te dar mais uma dica, vc ja falou oq √©, das 10 coisas que vc chutou,
            hehe, eu espero muito que vc goste, e tmb hj n vai ter buqeu de flores, o dinheiro foi tudo no presente,
            kdkskskskss, mesmo que de pra comprar algum buquezinho menor, preferi fazer essa cartinha e mais pra frente
            eu compro as flores, e vc n vai saber que dia vai serüêï kdsksksksk
            Essa cartinha foi mais diferentes que as outras, foi legal de fazer, Eu te amo mesmo muito amor, desculpa
            pelas vezes que eu te fiz se sentir mal, insegura, eu te amo de verdade ta bom &lt;3, vou estar ansioso te
            esperando vir
          </p>
        </div>
        <div class="final">
          <p>Com muito amor,</p>
          <p>Arthur</p>
        </div>
      </div>
    </div>

    <div class="scroll-element" id="scrollElement">
      <img src="images/scroll.png" alt="Scroll" class="scroll-image" />
      <div class="seal-container" id="sealContainer">
        <img src="images/seal.png" alt="Seal" class="seal-image" id="sealImage" />
        <p class="seal-text">CLICA NO SELO</p>
      </div>
    </div>
  </div>
  <div id="player"></div>
</body>

</html>

<style>
  body {
    background-image: linear-gradient(180deg, rgb(12, 188, 238) 0%, rgb(145, 227, 231) 50%, rgb(123, 167, 26) 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 200vh;
    width: 100vw;
    margin: 0;
    font-family: "Georgia", serif;
    perspective: 1000px;
    overflow-x: hidden;
  }

  .landscape {
    position: absolute;
    top: 0;
    left: 15vw;
    z-index: -1;
    background-color: blue;
    width: 70vw;
    height: 200vh;
    background-image: url("images/horizonte.jpg");
    background-repeat: no-repeat;
    background-size: cover;
    background-position: top;
    /* object-fit: contain; */
    filter: blur(1px);
  }

  .flower {
    position: fixed;
    width: 160px;
    opacity: 1;
    z-index: -1;
    transform-origin: center center;
  }

  .flower-container {
    position: fixed;
    width: 100%;
    height: 100%;
  }

  .flower:nth-child(1) {
    top: 52%;
    left: 12%;
    rotate: -40deg;
  }

  .flower:nth-child(2) {
    top: 36%;
    left: 15%;
  }

  .flower:nth-child(3) {
    top: 60%;
    left: 20%;
    rotate: -170deg;
  }

  .flower:nth-child(4) {
    top: 50%;
    right: 10%;
  }

  .flower:nth-child(5) {
    top: 50%;
    right: 30%;
    rotate: -93deg;
  }

  .flower:nth-child(6) {
    top: 9%;
    right: 4%;
    rotate: -32deg;
  }

  .flower:nth-child(7) {
    top: 17%;
    right: 10%;
    rotate: -14deg;
  }

  .flower:nth-child(8) {
    top: 60%;
    right: 24%;
    rotate: -10deg;
  }


  .main-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: start;
  }

  .paper-background {
    position: absolute;
    width: 800px;
    height: 170vh;
    background-image: url("images/fundo.png");
    background-size: cover;
    background-position: center;
    background-repeat: repeat;
    z-index: 1;
    transform: translateY(-100vh);
    opacity: 0;
  }

  .letter-content {
    padding: 40px;
    width: 90%;
    text-align: left;
    color: #2c2c2c;
    z-index: 2;
  }

  .letter-content .introducao p {
    font-style: italic;
    font-size: 1.3em;
    margin-bottom: 30px;
    color: #5d4037;
  }

  .letter-content .texto p {
    margin: 25px 0;
    font-size: 1.3em;
    line-height: 1.6;
    color: #3e2723;
  }

  .letter-content .final p {
    margin: 15px 0;
    font-style: italic;
    color: #5d4037;
    font-size: 1.1em;
  }

  .scroll-element {
    position: absolute;
    width: 860px;
    height: 150px;
    z-index: 10;
    cursor: pointer;
    transform-style: preserve-3d;
  }

  .scroll-image {
    width: 100%;
    height: 100%;

    /* object-fit:; */
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
  }

  .seal-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-35%, -50%);
    width: 130px;
    height: 130px;
    z-index: 15;
  }

  .seal-text {
    position: absolute;
    top: 120%;
    left: 40%;
    width: 300px;
    transform: translate(-50%, -50%);
    font-size: 2em;
    color: white;
    font-weight: bold;
    text-shadow: 0 0px 5px rgba(250, 254, 255, 0.836);
    text-decoration: underline;
    pointer-events: none;
  }

  .seal-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.4));
    transition: transform filter 0.3s ease;
  }

  .seal-image:hover {
    transform: scale(1.1);
    filter: drop-shadow(0 0px 15px rgba(14, 247, 255, 0.856));
  }

  #player {
    width: 0;
    height: 0;
    opacity: 0;
  }
</style>

<script>
  // GSAP Animation for scroll moving up and paper sliding down
  const scrollElement = document.getElementById("scrollElement");
  const sealContainer = document.getElementById("sealContainer");
  const sealImage = document.getElementById("sealImage");
  const paperBackground = document.getElementById("paperBackground");
  const letterContent = document.getElementById("letterContent");

  gsap.registerPlugin(ScrollTrigger);

  let tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  document.head.appendChild(tag);

  let player;

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: 0,
      width: 0,
      videoId: "CnVVjLOGVoY",
      playerVars: {
        'playsinline': 1
      }
    })
  }

  function onPlayerReady(event) {
    console.log("Player is ready");
  }

  const flowers = document.querySelectorAll(".flower");

  flowers.forEach((flower, i) => {
    gsap.to(flower, {
      rotation: 360,
      ease: "sine.inOut",
      scrollTrigger: {
        trigger: ".landscape",
        start: "top top",
        end: "bottom bottom",
        scrub: true,
      }
    })

    gsap.to(flower, {
      y: "+=70",
      duration: 4 + (i * 1.2),
      repeat: -1,
      yoyo: true,
      ease: "sine.inOut"
    });
  })

  // Set initial states
  gsap.set(paperBackground, {
    y: "-300vh",
    opacity: 1,
  });

  gsap.set(letterContent, {
    opacity: 1,
    y: 30,
  });

  // Add subtle floating animation to the scroll
  gsap.to(scrollElement, {
    y: 30,
    rotation: 1,
    duration: 2,
    ease: "sine.inOut",
    yoyo: true,
    repeat: -1,
  });

  // Seal click animation sequence
  sealContainer.addEventListener("click", function () {
    if (player) player.playVideo();

    // Prevent multiple clicks
    sealContainer.style.pointerEvents = "none";

    // Step 1: Seal breaking animation
    gsap.to(sealImage, {
      scale: 1.3,
      rotation: 15,
      duration: 0.3,
      ease: "power2.out",
      onComplete: function () {
        // Step 2: Seal disappears
        gsap.to(sealImage, {
          scale: 0,
          opacity: 1,
          rotation: 180,
          duration: 0.5,
          ease: "back.in(1.7)",
          onComplete: function () {
            // Step 3: Scroll moves to the top
            gsap.to(scrollElement, {
              y: "-60vh",
              scale: 0.8,
              duration: 1.2,
              ease: "power3.out",
              delay: 0.3,
              repeat: 0,
              onComplete: function () {
                gsap.to(scrollElement, {
                  opacity: 0,
                  duration: 0,
                });

                gsap.to(sealImage, {
                  opacity: 0,
                  duration: 0,
                });

                gsap.to(paperBackground, {
                  y: "-40vh",
                  opacity: 1,
                  duration: 1.5,
                  ease: "power3.out",
                });

                gsap.to(letterContent, {
                  opacity: 1,
                  y: 0,
                  duration: 0,
                });
              },
            });
          },
        });
      },
    });
  });

  // Hover effects for the seal
  sealContainer.addEventListener("mouseenter", function () {
    gsap.to(sealImage, {
      scale: 1.1,
      duration: 0.3,
      ease: "power2.out",
    });
  });

  sealContainer.addEventListener("mouseleave", function () {
    gsap.to(sealImage, {
      scale: 1,
      duration: 0.3,
      ease: "power2.out",
    });
  });
</script>